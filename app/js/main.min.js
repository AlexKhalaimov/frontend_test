let departments=[{city:"Киев",region:"Киевская",title:"ТРЦ «Ocean Plaza»",address:"Ст. м. «Лыбедская», бульвар Дружбы Народов, 3-А",phone:"044 284-50-80",Longitude:"50.41216032092543",Latitude:"30.52261685488979",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:1},{city:"Киев",region:"Киевская",title:"Ст. м. «Минская»",address:"проспект Оболонский, 16",phone:"044 284-50-80",Longitude:"50.51205774570728",Latitude:"30.5005075837308",shedule:["Пн-Пт 09:00–20:00"],pickup:0},{city:"Киев",region:"Киевская",title:"ТРЦ «Квадрат»",address:"бульвар Перова, 36",phone:"044 284-50-80",Longitude:"50.48505996978448",Latitude:"30.59502818293475",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:0},{city:"Васильков",region:"Киевская",title:"Поштове відділення №4",address:"Сагайдачного, 50",phone:"044 284-50-80",Longitude:"50.1933370378241",Latitude:"30.30075967534007",shedule:["Пн-Пт 09:00–20:00"],pickup:1},{city:"Васильков",region:"Киевская",title:"Поштове відділення №3",address:"мікрорайон Військове містечко, 11, буд. 5а",phone:"044 284-50-80",Longitude:"50.21171736137658",Latitude:"30.314768129259388",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:0},{city:"Белая Церква",region:"Киевская",title:"Поштове відділення №2",address:"Вокзальна вулиця, 22",phone:"044 284-50-80",Longitude:"49.81332130958263",Latitude:"30.107389008234694",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:0},{city:"Винница",region:"Винницкая",title:"Поштове відділення",address:"вулиця Келецька, 83",phone:"044 284-50-80",Longitude:"49.22767927633707",Latitude:"28.40720840200767",shedule:["Пн-Пт 09:00–20:00"],pickup:1},{city:"Винница",region:"Винницкая",title:"Поштове відділення №18",address:"Князів Коріатовичів, 181a",phone:"044 284-50-80",Longitude:"49.22355707984509",Latitude:"28.458189225825773",shedule:["Пн-Пт 09:00–20:00"],pickup:0},{city:"Гайсин",region:"Винницкая",title:"Поштове відділення №1",address:"вул. Жовтнева, 2",phone:"044 284-50-80",Longitude:"48.81264083292305",Latitude:"29.378017712421784",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:1},{city:"Умань",region:"Черкасская",title:"Поштове відділення №2",address:"вулиця Європейська, 31",phone:"044 284-50-80",Longitude:"48.76999891673597",Latitude:"30.21568714319876",shedule:["Пн-Пт 09:00–20:00"],pickup:0},{city:"Черкассы",region:"Черкасская",title:"Поштове відділення №5",address:"вулиця Сумгаїтська, 33",phone:"044 284-50-80",Longitude:"49.438365596952",Latitude:"32.01496142880936",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:1},{city:"Жашков",region:"Черкасская",title:"Поштове відділення №2",address:"вулиця Соборна, 49",phone:"044 284-50-80",Longitude:"49.25235664244372",Latitude:"30.100660579198117",shedule:["Пн-Пт 09:00–20:00"],pickup:0},{city:"Кропивницкий",region:"Кировоградская",title:"Поштове відділення №21",address:"Героїв України, 28г",phone:"044 284-50-80",Longitude:"48.496904976912745",Latitude:"32.19792635144619",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:1},{city:"Бобринець",region:"Кировоградская",title:"Поштове відділення №1",address:"Шевченка, 54а",phone:"044 284-50-80",Longitude:"48.06000843931879",Latitude:"32.158673007663275",shedule:["Пн-Пт 09:00–20:00"],pickup:0},{city:"Александрия",region:"Кировоградская",title:"Поштове відділення №21",address:"вулиця Діброви, 16",phone:"044 284-50-80",Longitude:"48.67682759163345",Latitude:"33.11478275387152",shedule:["Пн-Пт 09:00–20:00"],pickup:0},{city:"Николаев",region:"Николаевская",title:"Поштове відділення №14",address:"просп. Центральний, 159",phone:"044 284-50-80",Longitude:"46.9742058624511",Latitude:"32.013419157258866",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:1},{city:"Николаев",region:"Николаевская",title:"Поштове відділення №3",address:"вулиця Космонавтів, 83A",phone:"044 284-50-80",Longitude:"46.97619357535479",Latitude:"32.07896593073929",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:0},{city:"Вознесенск",region:"Николаевская",title:"Поштове відділення №2",address:"вулиця Одеська, 16/6, Вознесенськ",phone:"044 284-50-80",Longitude:"47.57134464811004",Latitude:"31.34351722945791",shedule:["Пн-Пт 09:00–20:00"],pickup:0},{city:"Доманевка",region:"Николаевская",title:"Поштове відділення №2",address:"вулиця Центральна, 32",phone:"044 284-50-80",Longitude:"47.6316991998706",Latitude:"30.988382072345324",shedule:["Пн-Пт 09:00–20:00","Сб-Вс 10:00–18:00"],pickup:1}],map;function initMap(){var e,t={zoom:18,center:new google.maps.LatLng(50.41216032092543,30.52261685488979),mapTypeId:"satellite"};map=new google.maps.Map(document.getElementById("map"),t),setDepartments("Киевская")}const select=document.getElementById("departmens-select");let unique=departments.map(e=>e.region).filter((e,t,n)=>n.indexOf(e)===t);const optionTemplate=document.getElementById("optionTemplate").content,departmentsItemTmpl=document.getElementById("departmentsItem").content,departmentsList=document.getElementById("departmentsList"),pickupStr="Возможен самовывоз";let option=optionTemplate.querySelector("option"),optionText=optionTemplate.querySelector("option p");function setOptions(e){e.forEach(e=>{option.setAttribute("value",e),optionText.textContent=e+" область";let t=document.importNode(optionTemplate,!0);select.appendChild(t)})}setOptions(unique);let currentDepartments=departments.filter(e=>e.region===select.value);select.addEventListener("change",(function(e){return selectedRegion=this.value,currentDepartments=departments.filter(e=>e.region===selectedRegion),setDepartments(selectedRegion),setPlaces(currentDepartments),currentDepartments}));const setDepartments=e=>{removeAllChildNodes(departmentsList),displayDepartments(currentDepartments,departmentsItemTmpl,departmentsList)},displayDepartments=(e,t,n)=>{removeAllChildNodes(n),e.forEach(e=>{let i=t.firstElementChild,d,s,o,r,p;i.querySelector(".departments-item__title").textContent=e.title,i.querySelector(".departments-item__city").textContent=e.city,i.querySelector(".departments-item__region").textContent=e.region+" область",i.querySelector(".departments-item__address").textContent=e.address,i.querySelector(".departments-item__phone").textContent=e.phone;let l=i.querySelector(".departments-item__pickup");1===e.pickup?l.textContent=pickupStr:l.textContent="";let a=i.querySelector(".departments-item__shedule");removeAllChildNodes(a),e.shedule.forEach(e=>{let t=document.createElement("p");t.textContent=e,a.appendChild(t)}),i.setAttribute("data-longtitude",e.Longitude),i.setAttribute("data-latitude",e.Latitude);let u=document.importNode(t,!0);n.appendChild(u),setMarkers(e);const c=undefined;n.querySelectorAll(".departments-item").forEach(e=>{e.addEventListener("click",(function(e){centerMarker(this)}))})})},removeAllChildNodes=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)};function setMarkers(e){var t=new google.maps.Marker({position:new google.maps.LatLng(e.Longitude,e.Latitude),map:map})}function centerMarker(e){const t=e.dataset.latitude,n=e.dataset.longtitude;map.setCenter(new google.maps.LatLng(n,t))}window.onload=()=>{const e=undefined;document.querySelectorAll(".departments-item").forEach(e=>{e.addEventListener("click",(function(e){centerMarker(this)}))})};let places=[];const suggestionList=document.getElementById("suggestions-list"),suggestionTemplate=document.getElementById("suggestion-template").content;let selectedRegion;function setPlaces(e){let t;return e.forEach(e=>{places.push(e.city),places.push(e.address),places.push(e.title)}),places.filter((e,t,n)=>n.indexOf(e)===t)}function getRegion(){return selectedRegion=select.value,selectedRegion}selectedRegion=getRegion(),places=setPlaces(currentDepartments);const searchInput=document.getElementById("departmens-search");let newDep=[];searchInput.addEventListener("keyup",(function(e){let t=e.target.value;if(t.length>1){const e=places.filter((function(e){return e.toLowerCase().includes(t)}));e?(newDep=[],e.forEach(e=>{currentDepartments.forEach(t=>{-1!==t.title.indexOf(e)&&(newDep.includes(t)||newDep.push(t)),-1!==t.address.indexOf(e)&&(newDep.includes(t)||newDep.push(t)),-1!==t.city.indexOf(e)&&(newDep.includes(t)||newDep.push(t))})})):e||(newDep=[]),0!==departmentsList.childNodes.length&&removeAllChildNodes(departmentsList),displayDepartments(newDep,departmentsItemTmpl,departmentsList)}}));